[DEFAULT]
vault_storage_type = s3
vault_storage_nfs_export = TrilioVault
vault_s3_access_key_id = {{VAULT_S3_ACCESS_KEY}}
vault_s3_secret_access_key = {{VAULT_S3_SECRET_ACCESS_KEY}}
vault_s3_region_name = {{VAULT_S3_REGION_NAME}}
vault_s3_bucket = {{VAULT_S3_BUCKET}}

{% if s3_type == "Other_S3_Compatible" %}
vault_s3_endpoint_url = {{VAULT_S3_ENDPOINT_URL}}
{% if VAULT_S3_SIGNATURE_VERSION is defined and VAULT_S3_SIGNATURE_VERSION != "" %}
vault_s3_signature_version = {{ VAULT_S3_SIGNATURE_VERSION }}
{% else %}
vault_s3_signature_version = default
{% endif %}
{% if VAULT_S3_AUTH_VERSION is defined and VAULT_S3_AUTH_VERSION != "" %}
vault_s3_auth_version = {{ VAULT_S3_AUTH_VERSION }}
{% else %}
vault_s3_auth_version = DEFAULT
{% endif %}
vault_s3_ssl = {{VAULT_S3_SECURE}}
{% endif %}

{% if VAULT_S3_SSL_CERT != "" %}
vault_s3_ssl_cert = {{VAULT_S3_SSL_CERT_PATH}}
{% else %}
vault_s3_ssl_cert =
{% endif %}


vault_data_directory_old = {{TRILIOVAULT_MNT_DIR_OLD}}
vault_data_directory = {{TRILIOVAULT_MNT_DIR}}

log_config_append = {{ OBJECTSTORE_LOG_CONF }}

[s3fuse_sys_admin]
helper_command = sudo {{privsep_bin_path.stdout}}
