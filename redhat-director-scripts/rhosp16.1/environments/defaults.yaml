resource_registry:
  OS::TripleO::Services::TrilioDatamover: ../services/trilio-datamover.yaml
  OS::TripleO::Services::TrilioDatamoverApi: ../services/trilio-datamover-api.yaml
  OS::TripleO::Services::TrilioWlmApi: ../services/trilio-wlm-api.yaml
  OS::TripleO::Services::TrilioWlmWorkloads: ../services/trilio-wlm-workloads.yaml
  OS::TripleO::Services::TrilioWlmScheduler: ../services/trilio-wlm-scheduler.yaml
  OS::TripleO::Services::TrilioWlmCron: ../services/trilio-wlm-cron.yaml
  OS::TripleO::Services::TrilioHorizon: ../services/trilio-horizon.yaml
  # NOTE: If there are addition customizations to the endpoint map (e.g. for
  # other integratiosn), this will need to be regenerated.
  OS::TripleO::EndpointMap: endpoint_map.yaml

parameter_defaults:

   ## Enable TrilioVault's quota functionality on horizon. Don't change this parameter
   ExtraConfig:
     horizon::customization_module: 'dashboards.overrides'

   ## Define network map for trilio datamover api service
   ServiceNetMap:
       TriliovaultDatamoverApiNetwork: internal_api
       TriliovaultWlmApiNetwork: internal_api
   ## Don't edit following parameter
   EnablePackageInstall: True

   ## Load 'rbd' kernel module on all compute nodes
   ComputeParameters:
     ExtraKernelModules:
       rbd: {}

   ## Configure 'dmapi_workers' parameter of '/etc/dmapi/dmapi.conf' file
   ## This parameter value used to spawn the number of dmapi processes to handle the incoming api requests.
   ## If your dmapi node has ‘n' cpu cores, It is recommended, to set this parameter to '4*n’.
   ## If dmapi_workers field is not present in config file. The Default value will be equals to number of cores present on the node
   DmApiWorkers: 16

   ## Triliovault Wlm Api Service port
   WlmApiPort: "8781"
   WlmApiSslPort: "13781"

   ## TrilioVault Wlm Service's Database User Details
   WlmApiDbUserName: "workloadmgr"                              ## Do Not Change this parameter

   ## TrilioVault Datamover Service's Database User Details
   WlmApiDbUserName: "dmapi"                               ## Do Not Change this parameter

   ## TrilioVault Wlm rabbitmq details
   WlmOsloMessagingRpcUserName: "workloadmgr"
