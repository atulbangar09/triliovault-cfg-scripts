============================================================================
Steps to upgrade TVO packages to Yoga release from 4.2 GA / 4.2 HF
============================================================================

1. Download the hf_upgrade.sh script to your TVO appliance.
2. Make sure that it is having executable permissions. If not then apply executable permissions.
	chmod +x ./hf_upgrade.sh
3. hf_upgrade.sh having command line options as, 
	--downloadonly | -d  (It will only download the package and extract it in current folder)
	--installonly  | -i  (It will install the package available in current directory. If machine is not on network then copy required package "offline_pkgs.tar.gz" in the current directory)
	--all 	       | -a  (It will download and install the package on the current TVO appliance.)

Example:
	1. Customer wants to download the package only to copy it to some other machine. 
		./hf_upgrade.sh --downloadonly
		./hf_upgrade.sh -d

	2. Customer wants to install the package which is copied / downloaded on the TVO appliance.
		./hf_upgrade.sh --installonly
		./hf_upgrade.sh -i

	3. Customer is having network (internet connection) and wants to download + Install the upgrade package.
		./hf_upgrade.sh --all
		./hf_upgrade.sh -a


==============================================================================
Rev 1.1 changes:
- Disable mariadb and rabbitmq-server by default before installing packages. 
- URL changed to -  http://trilio:XpmkpMFviqSe@repos.trilio.io:8283/triliodata-dev-qual2-4-2/offlinePkgs/$OFFLINE_PKG_NAME
- Package name changed to - 4.2-offlinePkgs.tar.gz
- Make sure uuidgen utility is available on the system (it comes default with the package util-linux) 
- This utility uuidgen is used to create unique folder for extraction of package and further installation.
  Example - root@test_folder]# which uuidgen
            /usr/bin/uuidgen
            root@test_folder]# usr/bin/uuidgen --version
            uuidgen from util-linux X.XX.XXXXX VERSION_NUM


===============================================================================
Rev 1.2 changes:
While running hf_upgrade.sh script in offline mode. We need to change the BRANCH_NAME inside hf_upgrade.sh script to download the package from correct location.

For end customer usage set BRANCH_NAME="triliodata-4-2" inside hf_upgade.sh script.
For internal testing set BRANCH_NAME="triliodata-hotfix-4-2" inside hf_upgrade.sh script.

Make the above mentioned change in hf_upgrade.sh script with following steps, 
	- open hf_upgrade.sh script using any familier editor
	- Go to line number#7 in hf_upgrade.sh script and edit the file to change the value for BRANCH_NAME
	- For end customer usage set it to BRANCH_NAME="triliodata-4-2"
	- For internal testing set it to BRANCH_NAME="triliodata-hotfix-4-2"
	- Save the changes and run the hf_upgade.sh script using -d option / -i option / -a option.


Note:
	- restart_services function restart following services. If any of the service name mentioned below is in inactive mode then it will not perform restart operation on the respective service.
	  Service Names - tvault-config, wlm-workloads, wlm-api, wlm-workloads, wlm-cron, wlm-scheduler

=================================================================================
Rev 1.3 changes:
Take backup of /etc/tvault /etc/tvault-config /etc/workloadmgr before installation.
Take backup of user json file and copy it to the new myansible env installed.
Copy the user.json file from old venv to new env post installation before restarting services.

